// Generated by CoffeeScript 1.6.3
/**
* Object Validation
*
* Validation manager.
*
* @module object-validation
* @author potanin@UD
* @constructor
*/

require( 'abstract' ).createModel( function( model, prototype ) {
  var utility;

  utility = require( 'abstract' ).utility;

  model.properties( {
    validate: {
      get: function() {
        return function( target, schema ) {
          return model.prototype.validate.call( target, schema );
        };
      }
    },
    keys: {
      get: function() {
        return function( target, schema ) {
          return model.prototype.keys.call( target, schema );
        };
      }
    }
  });

  model.properties( this.prototype, {
    validate: function( schema, options ) {
      var result;
      result = require( './engine' ).create( this, schema, options );
      result.keys = utility.unique( result.keys );
      return result;
    },
    keys: function( schema, options ) {
      var result;
      result = require( './engine' ).create( this, schema, options );
      return result.keys = utility.unique( result.keys );
    }
  });

  model.defineConstructor( function create( schema, options ) {
    this.set( 'schema', schema );
    this.set( 'validation', options );
    return require( './engine' ).create( this, schema, options );
  });

  return module.exports = model;

});
