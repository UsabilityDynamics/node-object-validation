// Generated by CoffeeScript 1.6.3
/**
* Object Validation
*
* Validation manager.
*
* @module object-validation
* @author potanin@UD
* @constructor
*/


(function() {
  require('abstract').createModel(function(model, prototype) {
    var utility;
    model.engine(require('./engine'));
    utility = require('abstract').utility;
    model.properties({
      validate: {
        get: function() {
          return function(target, schema) {
            return model.prototype.validate.call(target, schema);
          };
        }
      },
      keys: {
        get: function() {
          return function(target, schema) {
            return model.prototype.keys.call(target, schema);
          };
        }
      }
    });
    model.properties(this.prototype, {
      validate: function(schema, options) {
        var result;
        result = model.engine().create(this, schema, options);
        result.keys = utility.unique(result.keys);
        return result;
      },
      keys: function(schema) {
        var result;
        result = model.engine().create(this, schema);
        return result.keys = utility.unique(result.keys);
      }
    });
    model.defineConstructor(function(schema, options) {
      this.set('schema', schema);
      this.set('validation', options);
      return model.engine(this, schema, options);
    });
    return module.exports = model;
  });

}).call(this);
